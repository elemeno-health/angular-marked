(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.angularMarked=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var unindent=require("./strip-indent");function markedProvider(){var self=this;self.setRenderer=function(opts){this.renderer=opts};self.setOptions=function(opts){this.defaults=opts};self.$get=["$log","$window",function($log,$window){var m;try{m=require("marked")}catch(err){m=$window.marked||marked}if(angular.isUndefined(m)){$log.error("angular-marked Error: marked not loaded.  See installation instructions.");return}var r=new m.Renderer;if(self.renderer){var o=Object.keys(self.renderer);var l=o.length;while(l--){r[o[l]]=self.renderer[o[l]]}}function wrapNonBindable(string){return"<span ng-non-bindable>"+string+"</span>"}var renderCode=r.code.bind(r);r.code=function(code,lang,escaped){return wrapNonBindable(renderCode(code,lang,escaped))};var renderCodespan=r.codespan.bind(r);r.codespan=function(code){return wrapNonBindable(renderCodespan(code))};self.defaults=self.defaults||{};self.defaults.renderer=r;m.setOptions(self.defaults);return m}]}markedDirective.$inject=["marked","$templateRequest","$compile"];function markedDirective(marked,$templateRequest,$compile){return{restrict:"AE",replace:true,scope:{opts:"=",marked:"=",compile:"@",src:"=",skipAccordionize:"="},link:function(scope,element,attrs){if(attrs.marked){set(scope.marked,scope.skipAccordionize);scope.$watch("marked",set)}else if(attrs.src){scope.$watch("src",function(src){$templateRequest(src,true).then(function(response){set(response,scope.skipAccordionize)},function(){set("",scope.skipAccordionize);scope.$emit("$markedIncludeError",attrs.src)})})}else{set(element.text(),scope.skipAccordionize)}function set(text,skipAccordionize){text=unindent(String(text||""));var markedText=marked(text,scope.opts||null);if(typeof scope.skipAccordionize!=="undefined"){element.html(markedText)}else{element.html(accordionize(markedText))}if(scope.$eval(attrs.compile)){$compile(element.contents(),skipAccordionize)(scope.$parent)}}function accordionize(markedStr){var oldHtml=document.createElement("div");oldHtml.innerHTML=markedStr;var h1=oldHtml.querySelector("h1");oldHtml.removeChild(h1);var ctAccordion=document.createElement("ct-accordion");ctAccordion.setAttribute("class","markdown-accordion");ctAccordion.setAttribute("title",h1.innerText);var children=oldHtml.childNodes;var newChildren=[];var currentPanel=null;for(var i=0;i<children.length;i++){var currentChild=children[i];if(currentChild.tagName==="H2"){if(currentPanel!==null){newChildren.push(currentPanel);currentPanel=null}var newChild=document.createElement("ct-acc-panel");newChild.setAttribute("class","markdown-panel");newChild.setAttribute("title",currentChild.innerText);currentPanel=newChild}else{var currentChildCopy=currentChild.cloneNode(true);if(currentPanel){currentPanel.appendChild(currentChildCopy)}else{newChildren.push(currentChildCopy)}}}if(currentPanel!==null){newChildren.push(currentPanel)}for(var n=0;n<newChildren.length;n++){ctAccordion.appendChild(newChildren[n])}return ctAccordion.outerHTML}}}}module.exports=angular.module("hc.marked",[]).directive("marked",markedDirective).provider("marked",markedProvider).name},{"./strip-indent":2,marked:"marked"}],2:[function(require,module,exports){module.exports=function unindent(text){if(!text){return text}var lines=text.replace(/\t/g,"  ").split(/\r?\n/);var min=null;var len=lines.length;var i;for(i=0;i<len;i++){var line=lines[i];var l=line.match(/^(\s*)/)[0].length;if(l===line.length){continue}min=l<min||min===null?l:min}if(min!==null&&min>0){for(i=0;i<len;i++){lines[i]=lines[i].substr(min)}}return lines.join("\n")}},{}]},{},[1])(1)});